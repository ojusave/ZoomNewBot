<!DOCTYPE html>
<html>

<head>
  <title>DEMO</title>
</head>

<body>
  <select id="cardOptions" nonce="rAnd0m">
    <option value="Option 1">Option 1</option>
    <option value="Option 2">Option 2</option>
    <option value="Option 3">Option 3</option>
  </select>
  <button type="button" id="sendCardId" nonce="rAnd0m">
    Send message
  </button>
  <br>

  <script nonce="rAnd0m">
    document.addEventListener('DOMContentLoaded', function () {
    document.getElementById('sendCardId').addEventListener('click', handleSendCard);
    });

    const handleSendCard = async () => {
      const input = document.getElementById("cardOptions");
      const value = input.value;

      try {
        await fetch('/chat', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
          },
          body: JSON.stringify({ input: value })
        });

        window.close();
      } catch (e) {
        console.log("Error when sending messages ", e);
        window.close();
      }
    };
  </script>
</body>

</html>
